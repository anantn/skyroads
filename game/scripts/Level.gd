extends Spatial

var x = load("res://scenes/Floor.tscn")
var h = load("res://scenes/Half.tscn")
var f = load("res://scenes/Full.tscn")

var level = {
	gravity = 8,
	fuel = 150,
	oxygen = 180,
	palette = [
		Color(0.00,0.00,0.00), Color(0.67,0.31,0.06), Color(0.00,0.55,0.00), Color(0.77,0.39,0.27), Color(0.60,0.27,0.13), Color(0.55,0.55,0.63),
		Color(0.69,0.42,0.39), Color(0.49,0.41,0.33), Color(0.31,0.31,0.31), Color(0.27,0.27,0.83), Color(0.27,0.83,0.27), Color(0.33,0.36,0.39),
		Color(0.83,0.27,0.27), Color(0.99,0.60,0.88), Color(0.31,0.63,0.63), Color(0.83,0.83,0.83), Color(0.55,0.25,0.05), Color(0.00,0.45,0.00),
		Color(0.63,0.31,0.22), Color(0.49,0.22,0.09), Color(0.45,0.45,0.52), Color(0.56,0.35,0.31), Color(0.39,0.33,0.27), Color(0.25,0.25,0.25),
		Color(0.22,0.22,0.67), Color(0.22,0.67,0.22), Color(0.27,0.30,0.31), Color(0.67,0.22,0.22), Color(0.82,0.49,0.72), Color(0.25,0.52,0.52),
		Color(0.67,0.67,0.67), Color(0.47,0.22,0.03), Color(0.00,0.39,0.00), Color(0.55,0.28,0.19), Color(0.42,0.19,0.08), Color(0.39,0.39,0.44),
		Color(0.49,0.30,0.28), Color(0.35,0.28,0.24), Color(0.22,0.22,0.22), Color(0.19,0.19,0.60), Color(0.19,0.60,0.19), Color(0.24,0.25,0.28),
		Color(0.60,0.19,0.19), Color(0.71,0.42,0.63), Color(0.22,0.44,0.44), Color(0.60,0.60,0.60), Color(0.39,0.19,0.03), Color(0.00,0.33,0.00),
		Color(0.45,0.24,0.16), Color(0.35,0.16,0.06), Color(0.33,0.33,0.38), Color(0.41,0.25,0.24), Color(0.28,0.24,0.19), Color(0.19,0.19,0.19),
		Color(0.16,0.16,0.49), Color(0.16,0.49,0.16), Color(0.19,0.20,0.24), Color(0.49,0.16,0.16), Color(0.58,0.35,0.52), Color(0.19,0.38,0.38),
		Color(0.49,0.49,0.49), Color(0.99,0.24,0.39), Color(0.82,0.19,0.31), Color(0.71,0.16,0.28), Color(0.58,0.14,0.24), Color(0.58,0.14,0.24),
		Color(0.82,0.19,0.31), Color(0.58,0.14,0.24), Color(0.99,0.24,0.39), Color(0.94,0.22,0.38), Color(0.80,0.19,0.31), Color(0.58,0.14,0.24),
	],
	road = [
		["x   ", "x   ", "x   ", "xf  ", "x   ", "x   ", "x   ", "x   ", "xf  ", "x   ", "x   ", "x   ", "    ", "x   ", "x   ", "xf  ", "x   ", "x   ", "x   ", "xf  ", "x   ", "x   ", "    ", "x   ", "x   ", "x   ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", ],
		["    ", "    ", "    ", "x   ", "    ", "    ", "    ", "    ", "x   ", "    ", "    ", "    ", "    ", "    ", "    ", "x   ", "    ", "    ", "    ", "x   ", "    ", "    ", "    ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "    ", "    ", "    ", "    ", "    ", ],
		["x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "xt  ", "x   ", "x   ", "xt  ", "xt  ", "x   ", "x   ", "x   ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "x   ", "    ", "x   ", "    ", "    ", "    ", "    ", "    ", "    ", ],
		["x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "x   ", "    ", "    ", "x   ", "x   ", "    ", "x   ", "x   ", "xth ", "xth ", "xth ", "xth ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "xt  ", ],
		["x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "xt  ", "x   ", "x   ", "xt  ", "xt  ", "x   ", "x   ", "x   ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "x   ", "    ", "x   ", "    ", "    ", "    ", "    ", "    ", "    ", ],
		["    ", "    ", "    ", "x   ", "    ", "    ", "    ", "    ", "x   ", "    ", "    ", "    ", "    ", "    ", "    ", "x   ", "    ", "    ", "    ", "x   ", "    ", "    ", "    ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "x   ", "x   ", "x   ", "x   ", "x   ", "x   ", "    ", "    ", "    ", "    ", "    ", ],
		["x   ", "x   ", "x   ", "xf  ", "x   ", "x   ", "x   ", "x   ", "xf  ", "x   ", "x   ", "x   ", "    ", "x   ", "x   ", "xf  ", "x   ", "x   ", "x   ", "xf  ", "x   ", "x   ", "    ", "x   ", "x   ", "x   ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", "    ", ],
	]
}

func _ready():
	var r = -5
	var c = 2
	for row in level["road"]:
		c = 0
		for col in row:
			if "x" in col:
				var tile = x.instance()
				if "h" in col:
					tile = h.instance()
				if "f" in col:
					tile = f.instance()
				tile.global_translate(Vector3(r, -0.5, c))
				add_child(tile)
			c = c - 2
		r = r + 2
	pass
